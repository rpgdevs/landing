---
import ContentSection from "~/components/content-section.astro";
import PostNews from "~/components/postNews.astro";
import { getI18N } from "~/i18n";

const { currentLocale } = Astro;

const allPostsEngl = await Astro.glob("~/pages/news/en/*.md");
const allPostsSpan = await Astro.glob("~/pages/news/*.md");

const posts = currentLocale == 'es' ? allPostsSpan : allPostsEngl;
const i18n = getI18N({ currentLocale });
---

<ContentSection title={i18n.News.title} id="news" >
  <div class="container mx-auto px-4 "> 
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {
        posts.map((post) => (
          <PostNews
            frontmatter={post.frontmatter}
            url={post.url}
            tagType="h2"
          />
        ))
      }
    </div>
  </div>
</ContentSection>
